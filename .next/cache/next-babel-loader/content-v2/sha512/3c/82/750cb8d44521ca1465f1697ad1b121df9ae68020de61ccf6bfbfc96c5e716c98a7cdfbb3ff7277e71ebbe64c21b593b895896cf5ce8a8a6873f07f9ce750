{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/140457/Documents/Study/CNM/cnm-crypto-wallet/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/140457/Documents/Study/CNM/cnm-crypto-wallet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/140457/Documents/Study/CNM/cnm-crypto-wallet/src/pages/login/index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { notification, Space, Spin } from \"antd\";\nimport { useRouter } from \"next/dist/client/router\";\nimport React, { useEffect, useState } from \"react\";\nimport GoogleLogin from \"react-google-login\";\nimport { useAuth } from \"src/context/auth\";\n\nvar Login = function Login(props) {\n  _s();\n\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      login = _useAuth.login,\n      user = _useAuth.user;\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setloading = _useState[1];\n\n  var onSuccess = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(response);\n\n              try {\n                setloading(true);\n                login({\n                  code: response.code,\n                  redirect_uri: \"\"\n                }).then(function () {\n                  router.push(\"/repositories\");\n                });\n              } catch (error) {\n                console.log(\"%c error\", \"color: red;\", error);\n                notification[\"error\"]({\n                  message: error.message || \"Login failed\"\n                });\n              }\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSuccess(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onFailure = function onFailure(response) {\n    console.log(response);\n  };\n\n  useEffect(function () {\n    if (user.id) {\n      router.push(\"/repositories\");\n    }\n  }, []);\n  return loading || user.id ? /*#__PURE__*/_jsxDEV(Space, {\n    size: \"large\",\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"100%\",\n      height: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"100%\",\n      height: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"https://account.stg.cdgfossil.com/assets/images/tenants/fossil/logo-large.png\",\n      alt: \"\",\n      className: \"logo\",\n      style: {\n        width: \"20%\",\n        marginBottom: \"20px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n      clientId: \"1036342066171-e01mcpvsj98b5ghs31sabf9pl9gl7hhv.apps.googleusercontent.com\",\n      buttonText: \"Sign in with Google\",\n      onSuccess: onSuccess,\n      responseType: \"code\",\n      onFailure: onFailure,\n      cookiePolicy: \"single_host_origin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Login, \"GUGlf1ZNsmyJtHDOrzAetmKWcfM=\", false, function () {\n  return [useRouter, useAuth];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/140457/Documents/Study/CNM/cnm-crypto-wallet/src/pages/login/index.tsx"],"names":["notification","Space","Spin","useRouter","React","useEffect","useState","GoogleLogin","useAuth","Login","props","router","login","user","loading","setloading","onSuccess","response","console","log","code","redirect_uri","then","push","error","message","onFailure","id","display","flexDirection","alignItems","justifyContent","width","height","marginBottom"],"mappings":"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","sourcesContent":["import { notification, Space, Spin } from \"antd\";\nimport { useRouter } from \"next/dist/client/router\";\nimport React, { useEffect, useState } from \"react\";\nimport GoogleLogin from \"react-google-login\";\n\nimport { useAuth } from \"src/context/auth\";\n\ninterface Props {}\n\nconst Login = (props: Props) => {\n  const router = useRouter();\n  const { login, user } = useAuth();\n  const [loading, setloading] = useState<boolean>(false);\n  const onSuccess = async (response: any) => {\n    console.log(response);\n    try {\n      setloading(true);\n      login({ code: response.code, redirect_uri: \"\" }).then(() => {\n        router.push(\"/repositories\");\n      });\n    } catch (error) {\n      console.log(\"%c error\", \"color: red;\", error);\n      notification[\"error\"]({\n        message: error.message || \"Login failed\",\n      });\n    }\n  };\n  const onFailure = (response: any) => {\n    console.log(response);\n  };\n  useEffect(() => {\n    if (user.id) {\n      router.push(\"/repositories\");\n    }\n  }, []);\n  return loading || user.id ? (\n    <Space\n      size=\"large\"\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        height: \"100vh\",\n      }}\n    >\n      <Spin size=\"large\" />\n    </Space>\n  ) : (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        height: \"100vh\",\n      }}\n    >\n      <img\n        src=\"https://account.stg.cdgfossil.com/assets/images/tenants/fossil/logo-large.png\"\n        alt=\"\"\n        className=\"logo\"\n        style={{\n          width: \"20%\",\n          marginBottom: \"20px\",\n        }}\n      />\n      <GoogleLogin\n        clientId=\"1036342066171-e01mcpvsj98b5ghs31sabf9pl9gl7hhv.apps.googleusercontent.com\"\n        buttonText=\"Sign in with Google\"\n        onSuccess={onSuccess}\n        responseType=\"code\"\n        onFailure={onFailure}\n        cookiePolicy={\"single_host_origin\"}\n      />\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}